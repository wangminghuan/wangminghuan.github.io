---
title: 重学前端 - 浏览器部分-捕获和冒泡
date: 2019-05-20 17:06:00
tags: [浏览器]
categories: 重学前端
---

## 事件捕获和冒泡
捕获过程是从外向内，冒泡过程是从内向外。

实际上点击事件来自触摸屏或者鼠标，鼠标点击并没有位置信息，但是一般操作系统会根据位移的累积计算出来，跟触摸屏一样，提供一个坐标给浏览器。那么，把这个坐标转换为具体的元素上事件的过程，就是捕获过程了。而冒泡过程，则是符合人类理解逻辑的：当你按电视机开关时，你也按到了电视机。

所以我们可以认为，捕获是计算机处理事件的逻辑，而冒泡是人类处理事件的逻辑。

addEventListener 有三个参数：

	事件名称；
	事件处理函数
	捕获还是冒泡
在现代浏览器中，建议默认不传第三个参数，因为冒泡是符合正常的人类心智模型的，大部分业务开发者不需要关心捕获过程。
<!-- more -->
### 焦点
键盘事件是由焦点系统控制的，一般来说，操作系统也会提供一套焦点系统，但是现代浏览器一般都选择在自己的系统内覆盖原本的焦点系统。

焦点系统认为整个 UI 系统中，有且仅有一个“聚焦”的元素，所有的键盘事件的目标元素都是这个聚焦元素。

浏览器 API 还提供了 API 来操作焦点，如：

	
	document.body.focus();
		
	document.body.blur();

### 自定义事件

	var evt = new Event("look", {"bubbles":true, "cancelable":false});
	document.dispatchEvent(evt);
这里使用 Event 构造器来创造了一个新的事件，然后调用 dispatchEvent 来在特定元素上触发。我们可以给这个 Event 添加自定义属性、方法
